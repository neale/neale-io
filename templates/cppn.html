<!doctype html>
{% extends "base.html" %}

{% block title %}
Controlled Pattern Producing Network
{% endblock %}

{% block content %}

<link rel="stylesheet" type="text/css" href= "{{ url_for('static',filename='css/cppn.css') }}">
	

<!-- main image container -->
<div class="image-viewer-container" style="width:100%;">
	<div class="image-viewer-border">
		<div class="main-image-viewer">
				<img id="main-img" src="{{ url_for('static', filename=data) }}" class="img-main" alt="">
		</div>
	</div>

  <!-- buttons for controlling cppn, wired to backend -->
  <div class="button-container" style="width:100%;">
    <!-- generate image with current settings -->
    <button 
			type="button"
			id="generate-btn"
      onclick="window.location.href='{{ url_for('generate_image') }}'"
      class="btn btn-lg btn-primary btn-spacing btn-width btn-size">
        Generate
    </button>
    
		<button type="button"
				id='Next'
			  class="btn btn-lg btn-secondary btn-spacing btn-width btn-size">
					Next
		</button>

		<button type="button" class="btn btn-lg btn-success btn-spacing btn-width btn-size">Prev</button>
		<button type="button" class="btn btn-lg btn-danger btn-spacing btn-width btn-size">Reset</button>
		<button type="button" class="btn btn-lg btn-warning btn-spacing btn-width btn-size">Random</button>

  </div>
<!-- sliders for configuring input values -->
  <div class="slider-container" style="width:100%;">

    <div class="slidecontainer-z">
			<label for="z_range" class="form-label">Z Dimension</label>
      <input type="range" class="form-range" min="1" max="32" id="z_range" value="{{ slider_vals['z_slider_init'] }}">
      <label id='z_range_slider_amount'>{{ slider_vals['z_slider_init'] }}</label>
    </div>

    <div class="slidecontainer-net-width">
			<label for="net_width_range" class="form-label">Net Width</label>
			<input type="range" class="form-range" min="2" max="128" step="2" id="net_width_range">
      <label id='net_width_range_slider_amount'>{{ slider_vals['layer_width_slider_init'] }}</label>
    </div>

    <div class="slidecontainer-z-scale">
			<label for="z_scale_range" class="form-label">Z Scale</label>
			<input type="range" class="form-range" min="0.01" max="20" step="0.1" id="z_scale_range">
      <label id='z_scale_range_slider_amount'>{{ slider_vals['z_scale_slider_init'] }}</label>
    </div>

    <div class="slidecontainer-interpolation">
			<label for="interpolation_range" class="form-label">Interpolation</label>
			<input type="range" class="form-range" min="1" max="20" step="1" id="interpolation_range">
      <label id='interpolation_slider_amount'>{{ slider_vals['interpolation_range_init'] }}</label>
    </div>

  </div>
</div>
<script>
  var generate_btn = document.getElementById('generate-btn'),
               img = document.getElementById("main-img");
  generate_btn.onclick = function() {
    $.post({
      url: '/generate-image',
      data: {"_": this.value},
      success: function(response){
        console.log('set new image:', response.img);
        $("#main-img").attr('src', response.img);
      },
      error: function(error){
        alert(response);
        console.log(error);
      }
    });
}
</script>

<script src="{{ url_for('static', filename='js/sliders.js') }}"></script>


{% endblock %}

